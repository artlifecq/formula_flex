<?xml version="1.0" encoding="utf-8"?>
<!---
*
* 环境首选项面板
* @author L.L.M.Sunny
* 创建时间：2015-7-29 下午2:30:12
*
-->
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009"
		 xmlns:s="library://ns.adobe.com/flex/spark"
		 xmlns:mx="library://ns.adobe.com/flex/mx"
		 width="100%"
		 height="100%"
		 creationComplete="group1_creationCompleteHandler(event)"
		 xmlns:ui="com.editor.ui.*">
	<s:layout>
		<s:BasicLayout/>
	</s:layout>
	<fx:Script>
		<![CDATA[
			import com.editor.cfg.ProjectConfig;
			
			import mx.events.FlexEvent;

			protected function group1_creationCompleteHandler(event : FlexEvent) : void
			{
				updateSetUp();
			}

			public function updateSetUp() : void
			{
				if (resPathItem)
					resPathItem.path = ProjectConfig.clientResPath;
				if (codePathItem)
					codePathItem.path = ProjectConfig.codePath;
				if (serverPathItem)
					serverPathItem.path = ProjectConfig.serverPath;
			}

			public function applyChanged() : void
			{
				if (resPathItem)
					ProjectConfig.clientResPath = resPathItem.path;
				if (codePathItem)
					ProjectConfig.codePath = codePathItem.path;
				if (serverPathItem)
					ProjectConfig.serverPath = serverPathItem.path;
			}
		]]>
	</fx:Script>
	<s:Group width="100%"
			 height="100%">
		<s:layout>
			<s:VerticalLayout paddingTop="10"
							  paddingLeft="30"/>
		</s:layout>
		<ui:BrowseForOpenItem id="resPathItem"
							  title="客户端资源目录："
							  browseTile="请选择资源目录"
							  browseDesc="dire"
							  browseExtension="dire"
							  toolTip="../client_res"/>
		<ui:BrowseForOpenItem id="codePathItem"
							  title="客户端代码目录："
							  browseTile="请选择代码目录"
							  browseDesc="dire"
							  browseExtension="dire"
							  toolTip="所有代码根目录"/>
		<ui:BrowseForOpenItem id="serverPathItem"
							  title="服务器目录："
							  browseTile="请选择服务器目录"
							  browseDesc="dire"
							  browseExtension="dire"
							  toolTip="服务器根目录"/>
	</s:Group>
</s:Group>
