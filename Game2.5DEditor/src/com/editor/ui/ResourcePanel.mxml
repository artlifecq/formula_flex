<?xml version="1.0" encoding="utf-8"?>
<!---
*
* 资源面板
* @author L.L.M.Sunny
* 创建时间：2015-6-17 上午10:30:12
*
-->
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009"
		 xmlns:s="library://ns.adobe.com/flex/spark"
		 xmlns:mx="library://ns.adobe.com/flex/mx"
		 width="100%"
		 height="100%"
		 initialize="onInitialize()"
		 creationComplete="onCreationComplete()">
	<fx:Script>
		<![CDATA[
			import com.editor.events.ResourcePanelEvent;
			
			import mx.events.IndexChangedEvent;
			
			import spark.components.NavigatorContent;
			
			import org.client.mainCore.manager.EventManager;

			private function onInitialize() : void
			{
			}

			private function onCreationComplete() : void
			{
				var nc : NavigatorContent;

				var mapFileList : MapFileList = new MapFileList();
				nc = new NavigatorContent();
				nc.label = "地图";
				nc.addElement(mapFileList);
				tabBar.addElement(nc);

				var avatarFileList : AvatarFileList = new AvatarFileList();
				nc = new NavigatorContent();
				nc.label = "换装";
				nc.addElement(avatarFileList);
				tabBar.addElement(nc);

				var effectFileList : EffectFileList = new EffectFileList();
				nc = new NavigatorContent();
				nc.label = "特效";
				nc.addElement(effectFileList);
				tabBar.addElement(nc);
				
				var soundFileList : SoundFileList = new SoundFileList();
				nc = new NavigatorContent();
				nc.label = "音效";
				nc.addElement(soundFileList);
				tabBar.addElement(nc);

				EventManager.addEvent(ResourcePanelEvent.SELECTED_RESOURCE_TAB, onSelectedResTab);
			}

			private function tabnavigator1_changeHandler(event : IndexChangedEvent) : void
			{
			}

			private function onSelectedResTab(type : String) : void
			{
				switch (type)
				{
					case "scene":
						tabBar.selectedIndex = 0;
						break;
					case "avatar":
						tabBar.selectedIndex = 1;
						break;
					case "effect":
						tabBar.selectedIndex = 2;
						break;
				}
			}
		]]>
	</fx:Script>
	<mx:TabNavigator id="tabBar"
					 width="100%"
					 height="100%"
					 left="5"
					 right="5"
					 top="5"
					 bottom="5"
					 paddingTop="5"
					 change="tabnavigator1_changeHandler(event)">
	</mx:TabNavigator>
</s:Group>
